<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
    <script src='main.js'></script>
</head>

<body>
    <script>
        let name = 'mậu';
        let cmnd = '123456789';
        let birthday = '13/01/1996';
        let email = '123@132.abc';
        let address = 'ha Tinh';
        let typeSevice = 'villa';
        let typeRoom = 'Vip';
        let typeCustomer = 'diamond';
        let discount = 10;
        let quantityincluded = 7;
        let renday = 10;
        let totalpay;
        let check = false;
        let tempName = "";


        let choose = parseInt(prompt('1.Hiển thị thon tin khách hàng.' + '\n' +
            '2.Chỉnh sửa thông tin khách hàng.' + '\n' +
            '3.Hiển thị giá sau khi được giảm giá'))

        switch (choose) {
            case 1:
                alert("Khách Hàng " + name + "\n" +
                    "Sinh Ngày: " + birthday + "\n" +
                    " Số CMND: " + cmnd + "\n" +
                    " Địa chỉ Email: " + email + "\n" +
                    "Địa chỉ: " + address + "\n" +
                    'Loại dịch vụ: ' + typeSevice + "\n" +
                    'Loại phòng: ' + typeRoom + "\n" +
                    'Loại khách hàng: ' + typeCustomer + "\n" +
                    'Giảm giá' + discount + '%' + "\n" + 'ngày thuê' + renday)
                break;
            case 2:
                let chooseEdit = parseInt(prompt(
                    "1.Khách Hàng " + name + "\n" +
                    "2.Sinh Ngày: " + birthday + "\n" +
                    "3.Số CMND: " + cmnd + "\n" +
                    "4.Địa chỉ Email: " + email + "\n" +
                    "5.Địa chỉ: " + address + "\n" +
                    '6.Loại dịch vụ: ' + typeSevice + "\n" +
                    '7.Loại phòng: ' + typeRoom + "\n" +
                    '8.Loại khách hàng: ' + typeCustomer + "\n" +
                    '9.Giảm giá' + discount + '%' + "\n" +
                    '10.ngày thuê' + renday));

                switch (chooseEdit) {
                    case 1:
                        name = prompt("input name: ");
                        name = name.trim().toLowerCase();
                        for (let i = 0; i < name.length; i++) {
                            if (name.charAt(i) === " " && name.charAt(i + 1) === " ") {
                                continue;
                            }
                            if (i === 0 || name.charAt(i - 1) === " ") {
                                tempName += name.charAt(i).toUpperCase();
                                continue;
                            }
                            tempName += name.charAt(i);

                        }
                        break;

                    case 2:
                        birthday = prompt('Enter birthday');
                        break;

                    case 3:
                        do {
                            cmnd = prompt('Enter cmnd');
                            if (!isNaN(cmnd)) {
                                cmnd = Number.parseFloat(cmnd);
                            }
                            if (!Number.isInteger(cmnd)) {
                                alert('cmnd không đúng định dạng');
                                continue;
                            }
                            if (cmnd < 100000000 || cmnd >999999999) {
                                alert('cmnd không đúng định dạng');
                                continue;
                            }check = true;
                        }while(!check)
                        
                        check=false;
                        break;

                    case 4:
                        do {
                            let countAt = 0;
                            let countDoc = 0;
                            email = prompt('input email: ');
                            for (let i = 0; i < email.length; i++) {
                                if (email.charAt(i) === "@") {
                                    countAt++;
                                    for (let j = i + 1; j < email.length; j++) {
                                        countDoc++
                                    }
                                }
                            }
                            if (countAt != 1 || countDoc < 1) {
                                alert('email khong dung!!')
                            } else {
                                check = true;
                            }
                        }
                        while (!check);
                        break;
                        check = false;

                    case 5:
                        address = prompt('Enter address');
                        break; case 6:
                        typeSevice = prompt('Enter typeSevice');
                        break; case 7:
                        typeRoom = prompt('Enter typeRoom');
                        break; case 8:
                        typeCustomer = prompt('Enter typeCustom');
                        break;
                    default:
                        alert('Failer')
                }
                alert("Khách Hàng " + tempName + "\n" +
                    "Sinh Ngày: " + birthday + "\n" +
                    " Số CMND: " + cmnd + "\n" +
                    " Địa chỉ Email: " + email + "\n" +
                    "Địa chỉ: " + address + "\n" +
                    'Loại dịch vụ: ' + typeSevice + "\n" +
                    'Loại phòng: ' + typeRoom + "\n" +
                    'Loại khách hàng: ' + typeCustomer + "\n" +
                    'Giảm giá' + discount + '%' + "\n" + 'ngày thuê' + renday)
                break;
            default:
                alert('Sự lựa chọn của bạn không có trong chương trình')
        }

    </script>
</body>

</html>